<h1>Adding product</h1>
<form [formGroup]="productForm" (ngSubmit)="onSubmit()">
    <label for="name">Name:</label>
    <input type="text" id="name" name="name" formControlName="name" style="background-color: white; color: black; width: 100%; padding: 8px;">
    <br>
    <label for="image">Image:</label>
    <input type="file" id="image" name="image" (change)="onFileSelected($event)" style="background-color: white; color: black; width: 100%; padding: 8px;">
    <br>
    <label for="price">Price:</label>
    <input type="number" id="price" name="price" formControlName="price" style="background-color: white; color: black; width: 100%; padding: 8px;">
    <br>
    <label for="description">Description:</label>
    <textarea id="description" name="description" formControlName="description" style="background-color: white; color: black; width: 100%; padding: 8px;"></textarea>
    <br>
    <label for="stock">Stock:</label>
    <input type="number" id="stock" name="stock" formControlName="stock" style="background-color: white; color: black; width: 100%; padding: 8px;">
    <br>

    <div>
    <label>Composition:</label>
    <select style="background-color: white; color: black; width: 100%; padding: 8px;" [(ngModel)]="selectedIngredientIndex" [ngModelOptions]="{ standalone: true }">
        <option *ngFor="let ingredient of ingredients; let i = index" [value]="i">{{ ingredient.name }}</option>
    </select>
    <button type="button" (click)="addComposition()">+</button>
    </div>
    <div>
    <h3>Ingredients in Composition:</h3>
    <div *ngIf="composition.length > 0">
        <div *ngFor="let ingredient of composition">
        {{ ingredient.name }}
        <button type="button" (click)="delComposition(ingredient.id)" class="text-red-500">-</button>
        </div>
    </div>
    <div *ngIf="composition.length == 0">No ingredients added yet.</div>
    </div>
    <br>

    <button type="submit">Add</button>
</form>

<app-dialog [message]="dialogMessage" [showDialog]="showDialog" (closeDialog)="closeDialog()"></app-dialog>
<app-redirection-dialog [message]="dialogMessage" [showRedirectionDialog]="showRedirectionDialog" [redirectUrl]="'/our-products/' + foodId" (closeRedictionDialog)="closeRedirectionDialog()"></app-redirection-dialog>
