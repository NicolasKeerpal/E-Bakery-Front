<div class="flex items-center justify-center mt-[3rem] mb-[3rem]">
    <div class="bg-[#533619] rounded-lg p-6 w-[30rem]">
        <h1 class="text-3xl font-bold mb-4 text-white">Update Your Profile</h1>

        <ng-container *ngIf="userRole=='customer'">
            <form [formGroup]="profilForm" (ngSubmit)="onSubmit()">
                <div class="mb-4">
                    <label for="mail" class="text-white">Mail (*):</label>
                    <input type="text" id="mail" name="mail" formControlName="mail" class="w-full px-3 py-2 bg-white text-black rounded-md border border-gray-300 focus:outline-none focus:border-blue-500" placeholder="Enter your mail...">
                    <div *ngIf="profilForm.get('mail')?.invalid && profilForm.get('mail')?.touched">
                        <small *ngIf="profilForm.get('mail')?.errors?.['required']" class="text-red-500 font-bold">Mail is required.</small>
                        <small *ngIf="profilForm.get('mail')?.errors?.['email']" class="text-red-500 font-bold">Invalid mail format.</small>
                    </div>
                </div>

                <div class="mb-4">
                    <label for="town" class="text-white">Town (*):</label>
                    <input type="text" id="town" name="town" formControlName="town" class="w-full px-3 py-2 bg-white text-black rounded-md border border-gray-300 focus:outline-none focus:border-blue-500" placeholder="Enter your town...">
                    <div *ngIf="profilForm.get('town')?.invalid && profilForm.get('town')?.touched">
                        <small *ngIf="profilForm.get('town')?.errors?.['required']" class="text-red-500 font-bold">Town is required.</small>
                        <small *ngIf="profilForm.get('town')?.errors?.['pattern']" class="text-red-500 font-bold">Invalid town format.</small>
                    </div>
                </div>

                <div class="mb-4">
                    <label for="address" class="text-white">Address (*):</label>
                    <input type="text" id="address" name="address" formControlName="address" class="w-full px-3 py-2 bg-white text-black rounded-md border border-gray-300 focus:outline-none focus:border-blue-500" placeholder="Enter your address...">
                    <div *ngIf="profilForm.get('address')?.invalid && profilForm.get('address')?.touched">
                        <small *ngIf="profilForm.get('address')?.errors?.['required']" class="text-red-500 font-bold">Address is required.</small>
                    </div>
                </div>

                <div class="mb-4">
                    <label for="zipCode" class="text-white">Zip code (*):</label>
                    <input type="text" id="zipCode" name="zipCode" formControlName="zipCode" class="w-full px-3 py-2 bg-white text-black rounded-md border border-gray-300 focus:outline-none focus:border-blue-500" placeholder="Enter your zip code...">
                    <div *ngIf="profilForm.get('zipCode')?.invalid && profilForm.get('zipCode')?.touched">
                        <small *ngIf="profilForm.get('zipCode')?.errors?.['required']" class="text-red-500 font-bold">Zip code is required.</small>
                        <small *ngIf="profilForm.get('zipCode')?.errors?.['pattern']" class="text-red-500 font-bold">Invalid Zip code format (Between 01000 and 98999).</small>
                        <small *ngIf="profilForm.get('zipCode')?.errors?.['min']" class="text-red-500 font-bold">Zip code must be between 01000 and 98999.</small>
                        <small *ngIf="profilForm.get('zipCode')?.errors?.['max']" class="text-red-500 font-bold">Zip code must be between 01000 and 98999.</small>
                    </div>
                </div>

                <div class="mb-4">
                    <label for="password" class="text-white">New password:</label>
                    <input type="password" id="password" name="password" formControlName="password" class="w-full px-3 py-2 bg-white text-black rounded-md border border-gray-300 focus:outline-none focus:border-blue-500" placeholder="Enter your new password...">
                </div>

                <button type="submit" class="px-4 py-2 bg-custom-primary_color text-white rounded-lg hover:bg-custom-hover_effect focus:outline-none">Modify</button>
            </form>
        </ng-container>

        <ng-container *ngIf="userRole!='customer'">
            <form [formGroup]="profilForm" (ngSubmit)="onSubmit()">
                <ng-container *ngIf="userRole=='admin'">
                    <div class="mb-4">
                        <label for="firstname" class="text-white">Firstname (*):</label>
                        <input type="text" id="firstname" name="firstname" formControlName="firstname" class="w-full px-3 py-2 bg-white text-black rounded-md border border-gray-300 focus:outline-none focus:border-blue-500" placeholder="Enter your firstname...">
                        <div *ngIf="profilForm.get('firstname')?.invalid && profilForm.get('firstname')?.touched">
                            <small *ngIf="profilForm.get('firstname')?.errors?.['required']" class="text-red-500 font-bold">First name is required.</small>
                            <small *ngIf="profilForm.get('firstname')?.errors?.['pattern']" class="text-red-500 font-bold">Invalid First name format (The first letter as well as the letter after - must start with a capital letter and the rest must be in lower case.).</small>
                        </div>
                    </div>

                    <div class="mb-4">
                        <label for="lastname" class="text-white">Lastname (*):</label>
                        <input type="text" id="lastname" name="lastname" formControlName="lastname" class="w-full px-3 py-2 bg-white text-black rounded-md border border-gray-300 focus:outline-none focus:border-blue-500" placeholder="Enter your lastname...">
                        <div *ngIf="profilForm.get('lastname')?.invalid && profilForm.get('lastname')?.touched">
                            <small *ngIf="profilForm.get('lastname')?.errors?.['required']" class="text-red-500 font-bold">Last name is required.</small>
                            <small *ngIf="profilForm.get('lastname')?.errors?.['pattern']" class="text-red-500 font-bold">Invalid Last name format (The first letter as well as the letter after - must start with a capital letter and the rest must be in lower case.).</small>
                        </div>
                    </div>
                </ng-container>

                <div class="mb-4">
                    <label for="mail" class="text-white">Mail (*):</label>
                    <input type="text" id="mail" name="mail" formControlName="mail" class="w-full px-3 py-2 bg-white text-black rounded-md border border-gray-300 focus:outline-none focus:border-blue-500" placeholder="Enter your mail...">
                    <div *ngIf="profilForm.get('mail')?.invalid && profilForm.get('mail')?.touched">
                        <small *ngIf="profilForm.get('mail')?.errors?.['required']" class="text-red-500 font-bold">Mail is required.</small>
                        <small *ngIf="profilForm.get('mail')?.errors?.['email']" class="text-red-500 font-bold">Invalid mail format.</small>
                    </div>
                </div>

                <div class="mb-4">
                    <label for="password" class="text-white">New password:</label>
                    <input type="password" id="password" name="password" formControlName="password" class="w-full px-3 py-2 bg-white text-black rounded-md border border-gray-300 focus:outline-none focus:border-blue-500" placeholder="Enter your new password...">
                </div>

                <button type="submit" class="px-4 py-2 bg-custom-primary_color text-white rounded-lg hover:bg-custom-hover_effect focus:outline-none">Modify</button>
            </form>
        </ng-container>
    </div>
</div>

<app-dialog [message]="dialogMessage" [showDialog]="showDialog" (closeDialog)="closeDialog()"></app-dialog>
<app-redirection-dialog [message]="dialogMessage" [showRedirectionDialog]="showRedirectionDialog" [redirectUrl]="'/profil'" (closeRedirectionDialog)="closeRedirectionDialog()"></app-redirection-dialog>