<h1>My orders :</h1>

<ng-container *ngIf="orders.length > 0">
    <div *ngIf="totalItems > itemsPerPage">
        <button (click)="prevPage()"><</button>
        Page : {{currentPage}}/{{totalPages}}
        <button (click)="nextPage()">></button>
    </div>
    
    <table class="w-full mt-4 border-collapse border border-[#533619]">
        <thead>
          <tr>
            <th class="border border-[#533619] p-2">Product</th>
            <th class="border border-[#533619] p-2">Qty</th>
            <th class="border border-[#533619] p-2">Price</th>
            <th class="border border-[#533619] p-2">Deliveryman</th>
            <th class="border border-[#533619] p-2">Created date</th>
            <th class="border border-[#533619] p-2">Due date</th>
            <th class="border border-[#533619] p-2">Delivered</th>
            <th class="border border-[#533619] p-2">Validation</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let order of paginatedOrders">
            <td class="border border-[#533619] p-2">{{ getFoodName(order.foodId) }}</td>
            <td class="border border-[#533619] p-2">{{ order.qty }}</td>
            <td class="border border-[#533619] p-2">{{ getFoodPrice(order.foodId) | price : "â‚¬" }}</td>
            <td class="border border-[#533619] p-2">{{ order.deliverymanId }}</td>
            <td class="border border-[#533619] p-2">{{ order.createdAt | date:'dd/MM/yyyy' }}</td>
            <td class="border border-[#533619] p-2">{{ order.dueDate | date:'dd/MM/yyyy' }}</td>
            <td class="border border-[#533619] p-2">{{ order.deliveryDate }}</td>
            <td class="border border-[#533619] p-2">
              <button *ngIf="!order.validation" (click)="validateOrder(order.id)">Validate</button>
              <button *ngIf="order.validation" disabled>Validated</button>
            </td>

          </tr>
        </tbody>
      </table>
    
    <div *ngIf="totalItems > itemsPerPage">
      <button (click)="prevPage()"><</button>
      Page : {{currentPage}}/{{totalPages}}
      <button (click)="nextPage()">></button>
    </div>
      
    <app-dialog [message]="dialogMessage" [showDialog]="showDialog" (closeDialog)="closeDialog()"></app-dialog>
</ng-container>

<ng-container *ngIf="orders.length==0">
<p>You have not orders</p>
</ng-container>